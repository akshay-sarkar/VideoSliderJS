var VideoSlider=function(){this._sliderInterval=null,this._animFlag=!0,this._videoIndex=[],this._isVideoPlaying=!1,this._currentItem=1,this._countAnimationEnd=0,this.carousel=document.getElementById("carousel"),this.carouselItems=this.carousel.children.length,this.carouselChilds=[].slice.call(this.carousel.children),this.videoSlider=document.getElementById("videoSlider"),this.height=this.videoSlider.getClientRects()[0].height,this.width=this.videoSlider.getClientRects()[0].width};VideoSlider.prototype.init=function(e){e&&(e.interval?this.interval=e.interval:this.interval=3e3,e.autoPlaySlide?this.autoPlaySlide=e.autoPlaySlide:this.autoPlaySlide=!0,e.animateTime?this.animateTime=e.animateTime:this.animateTime=1e3,e.autoPlayMediaContent?this.autoPlayMediaContent=e.autoPlayMediaContent:this.autoPlayMediaContent=!0,e.moveItemsLeft?this.moveItemsLeft=e.moveItemsLeft:this.moveItemsLeft=!0,e.carousel&&(this.carousel=document.getElementById(e.carousel),this.carouselItems=this.carousel.children.length,this.carouselChilds=[].slice.call(this.carousel.children)),e.videoSlider&&(this.videoSlider=document.getElementById(e.videoSlider),this.height=this.videoSlider.getClientRects()[0].height,this.width=this.videoSlider.getClientRects()[0].width)),this.checkVideoIndex(),this.getParentSize()},VideoSlider.prototype.checkVideoIndex=function(){var e,t,i;for(t=0;t<this.carouselItems;t++)e=this.carouselChilds[t],i=e.children.item(0),"VIDEO"===i.tagName&&(this._videoIndex.push(t+1),i.addEventListener("ended",this.endVideoTrigger()),i.addEventListener("play",this.playVideoTrigger()),i.addEventListener("pause",this.pauseVideoTrigger()))},VideoSlider.prototype.getParentSize=function(){var e,t=this.videoSlider.getClientRects()[0].height,i=this.videoSlider.getClientRects()[0].width;this.carousel.style.width=this.carouselItems*i+"px",this.carousel.style.height=t+"px",this.carousel.style.left=-i+"px";var s;for(e=this.carouselItems-1;e>=0;e--)s=this.carousel.children[e],s.style.width=i+"px",s.style.height=t+"px";this.moveLastChildFront()},VideoSlider.prototype.moveLastChildFront=function(){var e=this.carouselChilds[this.carouselItems-1];this.carouselChilds.unshift(e),this.carouselChilds.pop(),e=this.carousel.removeChild(e),this.carousel.insertBefore(e,this.carousel.childNodes[0]),this.startSlider()},VideoSlider.prototype.clearSliderInterval=function(){clearInterval(this._sliderInterval)},VideoSlider.prototype.setSliderInterval=function(e){var t=this;this._sliderInterval=setInterval(function(){t.slider(t.moveItemsLeft)},this.interval),e&&(this.moveItemsLeft?this.moveNext():this.movePrev())},VideoSlider.prototype.endVideoTrigger=function(){var e=this;return function(t){t.currentTarget.currentTime=0,e._isVideoPlaying=!1,e.autoPlaySlide&&(e.clearSliderInterval(),e.slider(e.moveItemsLeft))}},VideoSlider.prototype.pauseVideoTrigger=function(){var e=this;return function(){e._isVideoPlaying=!1}},VideoSlider.prototype.playVideoTrigger=function(){var e=this;return function(){e._isVideoPlaying=!0,e.playVideo()}},VideoSlider.prototype.pausePlay=function(){this.autoPlaySlide?(this.autoPlaySlide=!1,this.clearSliderInterval()):(this.autoPlaySlide=!0,this.setSliderInterval(!0))},VideoSlider.prototype.animationEnd=function(e){var t=this;if(t.moveItemsLeft)if(2===e.classList.length){++t._countAnimationEnd;var i=t.carouselChilds.shift();t.carouselChilds.push(i),t.carousel.appendChild(i),e.classList.remove("animateSlideIn")}else++t._countAnimationEnd,e.classList.remove("animateSlideIn");else if(2===e.classList.length){++t._countAnimationEnd;var i=t.carouselChilds.pop();t.carouselChilds.unshift(i),t.carousel.insertBefore(i,carousel.childNodes[0]),e.classList.remove("animateSlideInRight")}else++t._countAnimationEnd,e.classList.remove("animateSlideInRight");t._countAnimationEnd>=2&&(t._countAnimationEnd=0,this._animFlag=!0,t._videoIndex.indexOf(t._currentItem)>=0&&t.autoPlayMediaContent&&t.playVideo())},VideoSlider.prototype.moveNext=function(){this.clearSliderInterval();var e=2,t=1,i=this;i.moveItemsLeft=!0;var s=this.carouselChilds[t];s.classList.add("animateSlideIn"),s.classList.remove("active"),setTimeout(function(){i.animationEnd(s)},i.animateTime);var l=this.carouselChilds[e];l.classList.add("animateSlideIn"),l.classList.add("active"),this.carouselItems>i._currentItem?++i._currentItem:i._currentItem=1,setTimeout(function(){i.animationEnd(l)},i.animateTime),this.autoPlaySlide&&this.setSliderInterval()},VideoSlider.prototype.movePrev=function(){this.clearSliderInterval();var e=0,t=1,i=this;i.moveItemsLeft=!1;var s=this.carouselChilds[t];s.classList.add("animateSlideInRight"),s.classList.remove("active"),setTimeout(function(){i.animationEnd(s)},i.animateTime);var l=this.carouselChilds[e];l.classList.add("animateSlideInRight"),l.classList.add("active"),i._currentItem>1?--i._currentItem:i._currentItem=this.carouselItems,setTimeout(function(){i.animationEnd(l)},i.animateTime),this.autoPlaySlide&&this.setSliderInterval()},VideoSlider.prototype.playVideo=function(){this.clearSliderInterval();try{var e=this.carouselChilds[1],t=e.children[0];t.play()}catch(i){console.log(i)}},VideoSlider.prototype.resetHeightWidth=function(){this.height=this.videoSlider.getClientRects()[0].height,this.width=this.videoSlider.getClientRects()[0].width},VideoSlider.prototype.startSlider=function(){var e=this;-1!==e._videoIndex.indexOf(e._currentItem)&&e.autoPlayMediaContent?e.playVideo():this._sliderInterval=setInterval(function(){e.autoPlaySlide&&e.slider(e.moveItemsLeft)},this.interval)},VideoSlider.prototype.slider=function(e){e?this._animFlag&&(this._animFlag=!1,this.moveNext()):this._animFlag&&(this._animFlag=!1,this.movePrev())};